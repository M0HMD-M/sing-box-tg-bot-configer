# Sing-Box-TG-bot-Configer


## آپدیت اسکریپت

می‌تونید به دستور زیر به روزش کنید و مجبور نباشید همه چی رو از اول راه‌اندازی کنید. 

* 1 :

```bash
curl -Lo /root/update.py https://raw.githubusercontent.com/M0HMD-M/sing-box-tg-bot-configer/master/Update.py
```
* 2 :
```bash
python3 update.py
```
________________________________________
## نصب اسکریپت

اول فایل
 
__first.py__
 
رو میگیریم که توکن بات تلگرام رو به راحتی ست کنید و بقیه کار رو هم خودش خودکار انجام میده شما نیازی نیست کاری انجام بدید.
```bash
curl -Lo /root/first.py https://raw.githubusercontent.com/M0HMD-M/sing-box-tg-bot-configer/master/first.py
```
حالا بریم سراغ اجرا کردن اسکریپت. فقط لازمه که توکن بات تلگرام رو در ادامه این دستور وارد کنید، بقیه موارد (آی پی، پورت، ارسال پیام به کانال یا شما، آیدی کانال و بازه زمانی تجدید کانفیگ) رو بعدا تو تلگرام با دستور

__/set__

تعریف میکنیم و ______هر وقت هم خواستیم میتونیم تغییرشون بدیم:______
```bash
python3 first.py توکن_بات_تلگرام
```


بعد از اینکه تموم شد دستور زیر رو اجرا کنید که فایل

__first.py__

که دیگه بهش احتیاج نداریم حذف بشه:
```bash
rm first.py
```
_________________________
### نحوه استفاده :

اسکریپت مون که اجرا و تموم شد *قبل از هر چیزی* دستور start/ رو براش بفرستید. شما با ارسال دستور

__/start__

در تلگرام به بات تون آی دی شما بعنوان صاحب ست میشه و دیگه بات فقط به شما جواب میده.

بعد از این دستور لازمه که با دستور

__/set__

پارامتر های بات رو ست کنید:
```
/set chat_id me یا ch
/set channel_id گرفتید myidbot آیدی کانال که از بات 
/set server_IP آی پی سرور تون 
/set listen_port پورت سینگ باکس مثلا 443 
```

* در نظر داشته باشید برای اینکه بات بتونه تو کانالی که براش تعریف کردید پیام بده باید اونجا ادمین شده باشه!

اگر بعد از اینکه پراکسی رو راه انداحتید کانفیگ تون تایم اوت داد اس ان آی  جدید براش بفرستید تو تلگرام و دوباره امتحان کنید. پیامی که به بات تلگرام میفرستید هم به این شکل باشه
```bash
/replace sni
```
با دستور status/ هم میتونید استاتوس سینگ باکس یا کانفیگر رو تو تلگرام دریافت کنید که ببینید سینگ باکس در چه وضعیتیه و اگه مشکلی هست از کجاست.
```bash
/status sing-box
/status configer.service
```
با دستور run/ هم میتونید هر دستوری که خواستید تو ترمینال اجرا کنید و نتیجه ش براتون ارسال میشه
```bash
/run command
```
بعنوان مثال دو تا دستور پر کاربرد برای چک کردن پورت ها و ریستارت کردن سرور:
```bash
/run netstat -tulnp
/run reboot
```
